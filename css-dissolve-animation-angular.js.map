{"version":3,"file":"css-dissolve-animation-angular.js","sources":["../out-tsc/lib/src/dissolve-animation.ts","../out-tsc/lib/src/transition-item.ts","../out-tsc/lib/src/cross-dissolve.ts","../out-tsc/lib/src/sequence-dissolve.ts","../out-tsc/lib/css-dissolve-animation-angular.ts"],"sourcesContent":["import { TransitionItem } from './transition-item';\nexport class DissolveAnimation {\npublic itemA: TransitionItem;\npublic itemB: TransitionItem;\npublic data: any;\npublic i = 0;\npublic dataArray: any[];\npublic transitionDuration: number;\npublic interval: number;\npublic staticKlasses: string;\nprivate fadeInCSSLabel: string;\nprivate fadeOutCSSLabel: string;\n/**\n * @param {?} dataArray\n * @param {?} staticKlasses\n * @param {?=} interval\n * @param {?=} transitionDuration\n * @param {?=} fadeInOverride\n * @param {?=} fadeOutOverride\n * @param {?=} transitionDurationWasProvided\n */\nconstructor( dataArray:          any[],\n               staticKlasses:      string,\n               interval:           number=8000,\n               transitionDuration: number,\n               fadeInOverride:     string,\n               fadeOutOverride:    string,\n               transitionDurationWasProvided=false) {\n    this.dataArray = dataArray;\n    this.staticKlasses = staticKlasses;\n    this.interval = interval;\n    this.transitionDuration = transitionDuration;\n\n    if (transitionDurationWasProvided && (!fadeInOverride || !fadeOutOverride)) {\n      throw 'ERROR: parameter 5 (fade in CSS class name) '+\n            'and 6 (fade out CSS class name) are required '+\n            'if you provide a 3rd parameter (transition duration).';\n    } else if (transitionDurationWasProvided && (fadeInOverride && fadeOutOverride)) {\n      this.fadeInCSSLabel = fadeInOverride;\n      this.fadeOutCSSLabel = fadeOutOverride;\n    } else {\n      this.fadeInCSSLabel = 'da-fade-in';\n      this.fadeOutCSSLabel = 'da-fade-out';\n    }\n  };\n/**\n * @param {?} klasses\n * @return {?}\n */\npublic klasses(klasses: string):string {\n    return this.staticKlasses === undefined ? klasses : `${klasses} ${this.staticKlasses}`;\n  }\npublic fadeOutKlass   = () => this.klasses(this.fadeOutCSSLabel);\npublic fadeInKlass    = () => this.klasses(this.fadeInCSSLabel);\npublic invisibleKlass = () => this.klasses('da-invisible');\npublic visibleKlass   = () => this.klasses('da-visible');\npublic hiddenKlass    = () => this.klasses('da-hidden');\npublic shownKlass     = () => this.klasses('da-shown');\nprivate promisefy = (item: TransitionItem, klass: string, delay: number):Promise<any> => {\n    item.klass = klass;\n    return new Promise((r, j) => setTimeout(r, delay, item));\n  }\npublic fadeOut   = (it: TransitionItem) => this.promisefy(it, this.fadeOutKlass(), this.transitionDuration);\npublic fadeIn    = (it: TransitionItem) => this.promisefy(it, this.fadeInKlass(), this.transitionDuration);\npublic invisible = (it: TransitionItem) => this.promisefy(it, this.invisibleKlass(), this.interval);\npublic visible   = (it: TransitionItem) => this.promisefy(it, this.visibleKlass(), this.interval);\npublic hidden    = (it: TransitionItem) => this.promisefy(it, this.hiddenKlass(), this.interval);\npublic shown     = (it: TransitionItem) => this.promisefy(it, this.shownKlass(), this.interval);\n/**\n * @return {?}\n */\npublic getABTracks(): TransitionItem[] {\n    let /** @type {?} */ a: TransitionItem;\n    let /** @type {?} */ b: TransitionItem;\n    if (this.itemA.state === 'show') {\n      [a, b] = [this.itemA, this.itemB];\n    } else {\n      [a, b] = [this.itemB, this.itemA];\n    }\n    this.data = b.data;\n\n    // switch the `'hide'`/`'show'` order so\n    // next time `a` and `b` get assigned to\n    // the opposit items\n    [a.state, b.state] = ['hide', 'show'];\n    return [a, b];\n  }\n/**\n * @return {?}\n */\npublic next(): any {\n    const /** @type {?} */ index = this.i;\n    this.i = this.i === this.dataArray.length-1 ? 0 : this.i+1;\n    return this.dataArray[index];\n  }\n}\n\nfunction DissolveAnimation_tsickle_Closure_declarations() {\n/** @type {?} */\nDissolveAnimation.prototype.itemA;\n/** @type {?} */\nDissolveAnimation.prototype.itemB;\n/** @type {?} */\nDissolveAnimation.prototype.data;\n/** @type {?} */\nDissolveAnimation.prototype.i;\n/** @type {?} */\nDissolveAnimation.prototype.dataArray;\n/** @type {?} */\nDissolveAnimation.prototype.transitionDuration;\n/** @type {?} */\nDissolveAnimation.prototype.interval;\n/** @type {?} */\nDissolveAnimation.prototype.staticKlasses;\n/** @type {?} */\nDissolveAnimation.prototype.fadeInCSSLabel;\n/** @type {?} */\nDissolveAnimation.prototype.fadeOutCSSLabel;\n/** @type {?} */\nDissolveAnimation.prototype.fadeOutKlass;\n/** @type {?} */\nDissolveAnimation.prototype.fadeInKlass;\n/** @type {?} */\nDissolveAnimation.prototype.invisibleKlass;\n/** @type {?} */\nDissolveAnimation.prototype.visibleKlass;\n/** @type {?} */\nDissolveAnimation.prototype.hiddenKlass;\n/** @type {?} */\nDissolveAnimation.prototype.shownKlass;\n/** @type {?} */\nDissolveAnimation.prototype.promisefy;\n/** @type {?} */\nDissolveAnimation.prototype.fadeOut;\n/** @type {?} */\nDissolveAnimation.prototype.fadeIn;\n/** @type {?} */\nDissolveAnimation.prototype.invisible;\n/** @type {?} */\nDissolveAnimation.prototype.visible;\n/** @type {?} */\nDissolveAnimation.prototype.hidden;\n/** @type {?} */\nDissolveAnimation.prototype.shown;\n}\n","\nexport class TransitionItem {\npublic track: number;\npublic state: string;\npublic klass: string;\npublic data: any;\n/**\n * @param {?} track\n * @param {?} state\n * @param {?} klass\n * @param {?} data\n */\nconstructor(track: number, state: string, klass: string, data: string) {\n    this.track = track;\n    this.state = state;\n    this.klass = klass;\n    this.data = data;\n  }\n}\n\nfunction TransitionItem_tsickle_Closure_declarations() {\n/** @type {?} */\nTransitionItem.prototype.track;\n/** @type {?} */\nTransitionItem.prototype.state;\n/** @type {?} */\nTransitionItem.prototype.klass;\n/** @type {?} */\nTransitionItem.prototype.data;\n}\n","import { DissolveAnimation } from './dissolve-animation';\nimport { TransitionItem } from './transition-item';\nexport class CrossDissolve extends DissolveAnimation {\n/**\n * @param {?} dataArray\n * @param {?=} staticKlasses\n * @param {?=} interval\n * @param {?=} transitionDuration\n * @param {?=} fadeInOverride\n * @param {?=} fadeOutOverride\n */\nconstructor( dataArray:          any[],\n               staticKlasses:      string=undefined,\n               interval:           number=undefined,\n               transitionDuration: number=undefined,\n               fadeInOverride:     string=undefined,\n               fadeOutOverride:    string=undefined) {\n    super(dataArray, staticKlasses, interval, transitionDuration ? transitionDuration : 3000,\n               fadeInOverride, fadeOutOverride, transitionDuration !== undefined);\n  };\n/**\n * @return {?}\n */\npublic animate(): void {\n    if (!this.itemA && !this.itemB) {\n      this.itemA = new TransitionItem(1, 'show', this.visibleKlass(), this.next());\n      this.itemB = new TransitionItem(2, 'hide', this.invisibleKlass(), this.next());\n    }\n\n    // `a` is the active track and `b` is the\n    // track to which `a` dissolves.\n    // `isOnTop` indicates whether `a` has a\n    // higher z-index than `b`\n    const [a, b] = this.getABTracks();\n    const /** @type {?} */ isOnTop = a.track === 1;\n\n    this.visible(a).then(() => {\n      if (isOnTop) b.klass = this.visibleKlass();\n\n      // If `a` has a higher z-index than `b`,\n      // we can simply fade out to reveal `b`.\n      // Otherwise if `a` has a lower z-index,\n      // `b` needs to fade in.\n      return isOnTop ? this.fadeOut(a) : this.fadeIn(b);\n    }).then(() => {\n      if (isOnTop) a.klass = this.invisibleKlass();\n      a.data = this.next();\n      this.animate();\n    });\n  }\n}","import { DissolveAnimation } from './dissolve-animation';\nimport { TransitionItem } from './transition-item';\nexport class SequenceDissolve extends DissolveAnimation {\n/**\n * @param {?} dataArray\n * @param {?=} staticKlasses\n * @param {?=} interval\n * @param {?=} transitionDuration\n * @param {?=} fadeInOverride\n * @param {?=} fadeOutOverride\n */\nconstructor( dataArray:          any[],\n               staticKlasses:      string=undefined,\n               interval:           number=undefined,\n               transitionDuration: number=undefined,\n               fadeInOverride:     string=undefined,\n               fadeOutOverride:    string=undefined) {\n\n    const transitionDurationWasProvided = transitionDuration !== undefined;\n\n    // // Make the transition duration slightly shorter\n    // // to avoid a flash when the transition ends\n    transitionDuration = transitionDuration ? Math.floor(transitionDuration*.96): 2900;\n\n    super(dataArray, staticKlasses, interval, transitionDuration,\n          fadeInOverride, fadeOutOverride, transitionDurationWasProvided);\n  };\n/**\n * @return {?}\n */\npublic animate(): void {\n    if (!this.itemA && !this.itemB) {\n      this.itemA = new TransitionItem(1, 'show', this.hiddenKlass(), this.next());\n      this.itemB = new TransitionItem(2, 'hide', this.hiddenKlass(), this.next());\n    }\n\n    const [a, b] = this.getABTracks();\n    this.shown(a).then(() => {\n      return this.fadeOut(a);\n    }).then(() => {\n      [a.klass, a.data] = [this.hiddenKlass(), this.next()];\n      return this.fadeIn(b);\n    }).then(() => {\n      this.animate();\n    });\n  }\n}","/**\n * Generated bundle index. Do not edit.\n */\n\nexport {CrossDissolve,SequenceDissolve} from './index';\n\nexport {DissolveAnimation as Éµa} from './src/dissolve-animation';"],"names":[],"mappings":"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"}