!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(t.cssDissolveAnimationAngular=t.cssDissolveAnimationAngular||{})}(this,function(t){"use strict";var n,s,i=function(){function t(t,i,e,n,s,o,a,r){void 0===e&&(e=8e3),void 0===r&&(r=!1);var d=this;if(this.i=0,this.invisibleCSSLabel="da-invisible",this.visibleCSSLabel="da-visible",this.hiddenCSSLabel="da-hidden",this.shownCSSLabel="da-shown",this.fadeOutKlass=function(){return d.klasses(d.fadeOutCSSLabel)},this.fadeInKlass=function(){return d.klasses(d.fadeInCSSLabel)},this.invisibleKlass=function(){return d.klasses(d.invisibleCSSLabel)},this.visibleKlass=function(){return d.klasses(d.visibleCSSLabel)},this.hiddenKlass=function(){return d.klasses(d.hiddenCSSLabel)},this.shownKlass=function(){return d.klasses(d.shownCSSLabel)},this.promisefy=function(e,t,n){var s=""+d.eventIdentifier+d.itemName(e)+"--"+t;return d.emitEvent(s+"--WILL-ADD"),e.klass=d.klasses(t),new Promise(function(t,i){setTimeout(function(){d.emitEvent(s+"--WILL-REMOVE"),t(e)},n)})},this.fadeOut=function(t){return d.promisefy(t,d.fadeOutCSSLabel,d.transitionDuration)},this.fadeIn=function(t){return d.promisefy(t,d.fadeInCSSLabel,d.transitionDuration)},this.invisible=function(t){return d.promisefy(t,d.invisibleCSSLabel,d.interval)},this.visible=function(t){return d.promisefy(t,d.visibleCSSLabel,d.interval)},this.hidden=function(t){return d.promisefy(t,d.hiddenCSSLabel,d.interval)},this.shown=function(t){return d.promisefy(t,d.shownCSSLabel,d.interval)},this.dataArray=t,this.staticKlasses=i,this.interval=e,this.transitionDuration=n,this.eventIdentifier=void 0===a?"":a+"--",!(!r||s&&o))throw"ERROR: `fadeInOverride` and `fadeOutOverride` are required if you provide `transitionDuration`.";if(!r&&(s||o))throw"ERROR: `fadeInOverride` and `fadeOutOverride` can only be provided if `transitionDuration` is also provided";r&&s&&o?(this.fadeInCSSLabel=s,this.fadeOutCSSLabel=o):(this.fadeInCSSLabel="da-fade-in",this.fadeOutCSSLabel="da-fade-out")}return t.prototype.klasses=function(t){return void 0===this.staticKlasses?t:t+" "+this.staticKlasses},t.prototype.getABTracks=function(){var t,i,e,n,s;return"show"===this.itemA.state?(t=(e=[this.itemA,this.itemB])[0],i=e[1]):(t=(n=[this.itemB,this.itemA])[0],i=n[1]),this.data=i.data,s=["hide","show"],t.state=s[0],i.state=s[1],[t,i]},t.prototype.next=function(){var t=this.i;return this.i=this.i===this.dataArray.length-1?0:this.i+1,this.dataArray[t]},t.prototype.emitEvent=function(t){var i=new Event(t);document.dispatchEvent(i)},t.prototype.itemName=function(t){return 1===t.track?"itemA":"itemB"},t}(),o=function(t,i,e,n){this.track=t,this.state=i,this.klass=e,this.data=n},e=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),a=function(p){function t(t,i){var e=void 0===i?{}:i,n=e.staticKlasses,s=void 0===n?void 0:n,o=e.interval,a=void 0===o?void 0:o,r=e.transitionDuration,d=void 0===r?void 0:r,h=e.fadeInOverride,u=void 0===h?void 0:h,f=e.fadeOutOverride,l=void 0===f?void 0:f,v=e.eventIdentifier,c=void 0===v?void 0:v;return p.call(this,t,s,a,d||3e3,u,l,c,void 0!==d)||this}return e(t,p),t.prototype.animate=function(){var t=this;this.itemA||this.itemB||(this.itemA=new o(1,"show",this.visibleKlass(),this.next()),this.itemB=new o(2,"hide",this.invisibleKlass(),this.next()));var i=this.getABTracks(),e=i[0],n=i[1],s=1===e.track;this.visible(e).then(function(){return s&&(n.klass=t.visibleKlass()),s?t.fadeOut(e):t.fadeIn(n)}).then(function(){s&&(e.klass=t.invisibleKlass()),e.data=t.next(),t.animate()})},t}(i),r=(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}s(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),d=function(S){function t(t,i){var e=void 0===i?{}:i,n=e.staticKlasses,s=void 0===n?void 0:n,o=e.interval,a=void 0===o?void 0:o,r=e.transitionDuration,d=void 0===r?void 0:r,h=e.fadeInOverride,u=void 0===h?void 0:h,f=e.fadeOutOverride,l=void 0===f?void 0:f,v=e.eventIdentifier,c=void 0===v?void 0:v,p=void 0!==d,b=d?Math.floor(.96*d):2900;return S.call(this,t,s,a,b,u,l,c,p)||this}return r(t,S),t.prototype.animate=function(){var i=this;this.itemA||this.itemB||(this.itemA=new o(1,"show",this.hiddenKlass(),this.next()),this.itemB=new o(2,"hide",this.hiddenKlass(),this.next()));var t=this.getABTracks(),e=t[0],n=t[1];this.shown(e).then(function(){return i.fadeOut(e)}).then(function(){return t=[i.hiddenKlass(),i.next()],e.klass=t[0],e.data=t[1],i.fadeIn(n);var t}).then(function(){i.animate()})},t}(i);t.CrossDissolve=a,t.SequenceDissolve=d,t.Éµa=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=css-dissolve-animation-angular.umd.min.js.map
